# 00 uv 가상 환경 구축하기

### uv 가상 환경 구축하기

https://velog.io/@euisuk-chung/UV-%EB%82%B4%EA%B0%80-%EC%B0%B8%EA%B3%A0%ED%95%98%EB%A0%A4%EA%B3%A0-%EC%9E%91%EC%84%B1%ED%95%9C-UV-%EA%B0%80%EC%9D%B4%EB%93%9C

```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

1. python 버전 관리

```bash
uv python install <버전>

uv python list
uv use <버전>
```

2.  프로젝트 초기화

```bash
uv init
```

3. 가상환경 생성 및 관리

```bash
uv venv [경로] : 가상환경 생성 - 프로젝트와 별개로 빠르게 가상환경 필요 시
uv venv -p 3.11 : 특정 Python 버전으로 가상환경 생성 - 시스템 Python과 다른 버전으로 작업 필요 시
uv sync : pyproject.toml과 uv.lock 기반으로 .venv 동기화 - 프로젝트 클론 후 환경 재현 시
```

`uv sync`
현재 프로젝트 디렉토리에 존재하는 `pyproject.toml` 및 `uv.lock` 파일을 기준으로 가상환경을 구성(재현) 한다

(1) `uv init` 혹은 수동으로 `pyproject.toml` 작성
(2) 의존성 추가 -> `uv add ...`
(3) uv lock 실행 -> `uv.lock` 생성
(4)

-   `.venv` 가 존재하지 않거나 새로운 환경을 만들었을 경우
-   `uv sync` 는 `pyproject.toml`과 `uv.lock` 을 기준으로 필요한 패키지를 `.venv` (혹은 지정된 다른 가상 환경) 에 설치하여 환경을 일관성 있게 재현하는 작업 수행

```bash
uv venv
```

-   순수하게 가상 환경만 생성
-   Python 인터프리터와 기본 패키지를 포함한 가상환경(.venv 디렉토리)
-   빠르게 격리된 Python 환경이 필요할 때, 프로젝트 설정 없이 단순 실험할 때
-   pyproject.toml 생성하지 않음

```bash
uv init
```

-   프로젝트 초기화 및 구조 설정
-   `pyproject.toml`, `python-version` 및 기타 프로젝트 파일
-   새 Python 프로젝트를 시작할 때, 의존성 관리가 필요한 체계적인 개발 시
-   즉시 가상환경을 생성하지 않지만, 추후 명령어(`uv sync`, `uv add` 등) 실행 시 자동으로 생성

4. 의존성 관리
   `uv add`

5. 실행 및 스크립트 관리

```
uv run <명령어> : 가상환경에서 명령어 실행 - uv run python script.py
uv run --with <패키지> <명령어> : 추가 패키지와 함께 실행 - uv run --with rich script.py
uv pip freeze : 설치된 패키지 목록 출력 - uv pip freeze > requirements.txt
```

`.venv`가 없는 상황에서 `uv run` 을 실행하면, uv는 자동으로 가상 환경을 생성하고 의존성을 설치합니다.

### 환경 설정

```bash
uv init
uv add -r ../old-project/requirements.txt
```

```bash
streamlit run main.py
uv run streamlit run main.py
```

이메일 주소 요구 시 임의의 이메일 입력하기

# 01 기본 뼈대 만들기

컴포넌트 적용하기

-   title component
-   chat_input component
-   chat_message component

메시지 기록 유지하기

1. 매 인터렉션마다 스크립트를 위에서부터 다시 실행
2. session_state["messages"]가 있으면 그걸 유지한 채로
3. print_messages() 가 그 시점의 메시지들을 다시 렌더링
4. st.chat_input() 에서 새 입력이 들어왔는지 확인
5. 새 입력이 있으면 LLM 호출 -> 응답 -> session_State["messages"]에 추가

# 02 웹 앱에 체인 생성하기

`add_message` 함수 만들기

-   역할, 메시지를 받아 `ChatMessage` 형태로 만들기
-   세션에 저장

`create_chain` 함수 만들기

-   prompt
-   llm
-   output_parser
    체인 생성

사이드바 만들기
메시지 초기화 버튼 만들기

# 03 프롬프트 타입 선택 기능 추가하기

셀렉트 박스 만들기
선택된 프롬프트 타입에 따라 다른 프롬프트 적용하기

# 04 배포
